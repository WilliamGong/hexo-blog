---
title: LFS 的搭建 0 前言
date: 2021-11-15T16:14:26+08:00
toc: true
cover:
thumbnail:
categories:
    - LFS
tags:
    - Linux
    - LFS
---
# 前言
其实一开始要搭建 LFS 时，我是拒绝的。      
但奈何自己手贱加学校的教务系统出问题，我同时选择了操作系统和操作系统课程设计。         
而正常情况下是不能同时选择的。         
而操作系统课程设计的大作业，就是搭 LFS。      
也罢，这也是我的终极目标，虽然早了点，时间还被一大堆大作业和实验报告占满了，还有 ddl 催命。       
于是，我就只能硬着头皮上了。        
# 选择的版本
秉承要安装就要最新版的原则，我选择了最新的11.0      
对了，是 systemd 版本的。       
不过根据现在 LCTT 的进度，中文版最新到 9.0，因此 11.0 的版本只能硬啃生肉。      
当然，不同版本之间差距应该并不大，所以我会参考中文最新版的就是了。       
也许这一波流程后我就可以去 LCTT 翻译文档了吧。 XD       
# 需要的工具
首先，当然是一份 LFS 文档（         
对于 LFS 的搭建，需要一个宿主机，目前选择为我现在在服务器上跑的 Gentoo 开发机。当然也可以选择用 liveCD，不过考虑到 LFS 要装很长时间，liveCD 并不好用。      
至于要安装的机器，当然是虚拟机啦，配置如下：
+ CPU：Intel G5420 4线程 amd64
+ 内存：4G
+ SCSI 控制器：LSI 53C895A
+ 硬盘：32G
+ 网卡：Realtek RTL8139
+ BIOS：OVMF (UEFI)

考虑到兼容性，目前不使用任何半虚拟化驱动

# 主要安装流程
LFS 的安装一般分为以下几个流程：
1. 准备工作：包括分区和编译临时工具链
2. 安装：手动编译各软件包
3. 配置：配置**各种各样**的配置文件

具体流程其实和安装 Gentoo 差不多，但 LFS 既不会帮你自动编译也不提供 stage。可谓是真·从零开始。
# 与标准 LFS 流程的改动
我在安装 LFS时，不会完全按照文档进行。    
首先，我可能会使用一些其他发行版的工具，比如 Gentoo 的 genkernel 之类的（虽然这玩意真的很难用）      
以及我会大量使用已经存在的配置文件，比如其他发行版的 fstab 等
我也会参考 Gentoo 或 Arch 等相关 wiki，毕竟这些文档可是相当好用的。
# 最后
撒，开始吧。